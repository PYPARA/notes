<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ys</title>
  <style>
    body {
      background-color: black;
    }

    img {
      height: 100px;
      display: block;
      margin-top: 200px;
      box-sizing: border-box;
    }
  </style>
</head>

<body>
  <div id="app" style="display: none;">
    <img class="logo" src="./images/logo.png" alt=""><br>
    <img class="logo2" src="./images/logo2.jpeg" alt="">

    <img class="paimeng1" src="./images/paimeng1.png" alt="">
    <img class="paimeng2" src="./images/paimeng2.png" alt="">
    <img class="paimeng3" src="./images/paimeng3.png" alt="">
    <img class="paimeng4" src="./images/paimeng_error.png" alt="">
    <div class="paimeng-container" style="width: 100vw;height: 100vw;overflow: hidden;position: relative;">
      <img style="background-color: black;width: 100vw;height: 100vw;position: absolute;top: 0;left: 0;margin: 0;" src="./images/paimeng1.png" alt="">
      <img style="background-color: orange;width: 100vw;height: 100vw;position: absolute;top: 0;left: 0;margin: 0;" class="paimeng5" src="./images/paimeng1.png" alt="">
      <img style="background-color: purple;width: 100vw;height: 100vw;position: absolute;top: 0;left: 0;margin: 0;" class="paimeng6" src="./images/paimeng2.png" alt="">
      <img style="background-color: green;width: 100vw;height: 100vw;position: absolute;top: 0;left: 0;margin: 0;" class="paimeng7" src="./images/paimeng3.png" alt="">
    </div>

    <img class="paimeng8" style="background-color: #ffffff;" src="./images/paimeng_error.png" alt="">
    <div class="paimeng-container2" style="width: 100vw;height: 100vw;position: relative;overflow-x: hidden;">
      <div style="width: 400vw;font-size: 0;">
        <img class="panel" style="background-color: black;width: 100vw;height: 100vw;margin: 0;display: inline-block;" src="./images/paimeng1.png" alt="">
        <img class="panel" style="background-color: orange;width: 100vw;height: 100vw;margin: 0;display: inline-block;" src="./images/paimeng1.png" alt="">
        <img class="panel" style="background-color: purple;width: 100vw;height: 100vw;margin: 0;display: inline-block;" src="./images/paimeng2.png" alt="">
        <img class="panel" style="background-color: green;width: 100vw;height: 100vw;margin: 0;display: inline-block;" src="./images/paimeng3.png" alt="">
      </div>
      
    </div>

    <img class="paimeng9" src="./images/paimeng1.png" alt="">
    <img class="paimeng10" src="./images/paimeng2.png" alt="">
    <img class="paimeng11" src="./images/paimeng3.png" alt="">
    <img class="paimeng12" src="./images/paimeng_error.png" alt="">

    <img src="./images/mola.png" alt="">
    <img src="./images/jitui.png" alt="">

  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollTrigger.min.js"></script>

  <script>
    var app = new Vue({
      el: '#app',
      data() {
        return {

        }
      },
      methods: {

      },
      created() {
        document.getElementById('app').style.display = 'block'

      },
      mounted() {
        gsap.registerPlugin(ScrollTrigger)

        // base
        // gsap.to('.paimeng1', {
        //   scrollTrigger: {
        //     trigger: '.paimeng1',
        //     // 开始结束锚点，第一位重合开始，第二位重合结束
        //     // end +=200px 表示滚动距离200px
        //     start: 'top 50%;',
        //     end: '+=200px',
        //     // 回滚回退，数字表示duration
        //     scrub: true,
        //     // 动画过程跟随滚动，可以现在特定的元素，如‘.goust’
        //     pin: true, 
        //     markers: true
        //   },
        //   x: 300,
        //   rotation: 360,
        //   duration: 3
        // })

        // Toggle actions
        // 含义: enter leave backEnter backLeave
        // 可选值: play pause resume reverse restart reset complete none

        // start end 
        // 第一位是相对于元素，第二个相对于滚动
        // 可选: top center bottom 百分比% px 
        // 位置都是相对于 top 而言
        // end可为 300/300px 表示相对于start而言，有300px的滚动距离
        // end还可以为函数： () => '+=' + document.querySelector('.c').offsetWidth
        // 可设置不同的 endTrigger 如：endTrigger: '.paimeng2'
        // 动画元素、trigger元素(start)，endTrigger元素都可以不同
        gsap.to('.paimeng1', {
          scrollTrigger: {
            trigger: '.paimeng1',
            start: 'top 50%',
            end: 'bottom 50%',
            id: 'paimeng1',
            toggleActions: 'play pause reverse pause',
            // markers: true
          },
          x: 300,
          rotation: 360,
          duration: 3
        })

        // Scrub animation
        // 可为 true 和数字
        // 回滚回退，数字表示duration
        gsap.to('.paimeng2', {
          scrollTrigger: {
            trigger: '.paimeng2',
            start: 'top center',
            end: 'top 100px',
            id: 'paimeng2',
            scrub: 1,
            // markers: true
          },
          x: 300,
          rotation: 360,
          duration: 3
        })

        // Timeline
        let tl3 = gsap.timeline({
          scrollTrigger: {
            trigger: '.paimeng3',
            start: 'top center',
            end: 'top 100px',
            scrub: 3,
            id: 'paimeng3',
            // markers: true
          }
        })
        tl3.to('.paimeng3', {
          x: 300,
          rotation: 360,
          ease: 'none',
          duration: 3
        }).to('.paimeng3', {
          backgroundColor: '#999999',
          borderRadius: '20px',
          borderWidth: '10px',
          borderColor: 'red',
          borderStyle: 'solid'
        })

        // Pinning
        // 动画过程跟随滚动，true会固定trigger选中的元素
        // 可以选择特定的元素选择器，如 '.paimeng3'
        gsap.to('.paimeng4', {
          scrollTrigger: {
            trigger: '.paimeng4',
            start: 'top center',
            end: 'top 100px',
            id: 'paimeng4',
            scrub: true,
            // markers: true,
            pin: true
          },
          x: 300,
          rotation: 360,
          duration: 3
        })

        let tl4 = gsap.timeline()
        tl4.from('.paimeng5', { xPercent: -100 })
          .from('.paimeng6', { xPercent: 100 })
          .from('.paimeng7', { yPercent: -100 })
        ScrollTrigger.create({
          animation: tl4,
          trigger: '.paimeng-container',
          start: 'top top',
          end: '+=1000',
          scrub: true,
          // markers: true,
          pin: true,
          anticipatePin: 1
        })

        ScrollTrigger.create({
          trigger: '.paimeng8',
          start: 'top top',
          end: '+=150',
          // scrub: true,
          // markers: true,
          pin: true,
          pinSpacing: false
        })

        // Snapping
        let sections = gsap.utils.toArray('.panel')
        gsap.to(sections, {
          xPercent: -100 * (sections.length - 1),
          ease: "none",
          scrollTrigger: {
            trigger: '.paimeng-container2',
            pin: true,
            scrub: 2,
            snap: 1 / (sections.length - 1),
            end: () => '+=' + document.querySelector('.paimeng-container2').offsetWidth
          }
        })

        // Callbacks and Custom Options
        ScrollTrigger.create({
          trigger: '.paimeng9',
          start: 'top center',
          end: 'top 100px',
          markers: true,
          onEnter: () => console.log('enter'),
          onLeave: () => console.log('leave'),
          onEnterBack: () => console.log('enter back'),
          onLeaveBack: () => console.log('leave back'),
          onUpdate: (self) => console.log('update', self.progress.toFixed(3)),
          onToggle: (self) => console.log('toggle', self.isActive),
          toggleClass: 'active'
        })

        // scrollTrigger.defaults({
          // horizontal: true
          // scroller: '.container'
        // })


      }
    })
  </script>
</body>

</html>